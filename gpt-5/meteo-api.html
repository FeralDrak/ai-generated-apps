<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Animated Weather Cards</title>
    <style>
        :root{
            --bg:#0c0f18;
            --panel:#0f1522;
            --panel-2:#131a2b;
            --ink:#dfe6ff;
            --accent:#7aa2ff;
            --green:#6ad087;
            --sun:#ffd64a;
            --sun-2:#ffb84d;
            --rain:#79b7ff;
            --snow:#eaf2ff;
            --wind:#bcd6ff;
            --glass: rgba(255,255,255,.06);
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0;
            color:var(--ink);
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
            background:
                    radial-gradient(1200px 800px at 10% -10%, #11183a22 0%, transparent 60%),
                    radial-gradient(1400px 900px at 110% 10%, #0f215622 0%, transparent 60%),
                    var(--bg);
            display:flex;
            flex-direction:column;
            gap:20px;
            padding:20px;
        }

        .toolbar{
            position:sticky;
            top:0;
            z-index:5;
            backdrop-filter: blur(8px);
            background: linear-gradient(#0b1020cc, #0b1020cc);
            border:1px solid var(--glass);
            border-radius:12px;
            padding:10px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:8px;
        }
        .toolbar .left, .toolbar .right{
            display:flex;
            gap:8px;
            flex-wrap:wrap;
            align-items:center;
        }
        .toolbar h1{
            font-size:16px;
            margin:0 8px 0 0;
            font-weight:600;
            letter-spacing:.3px;
            opacity:.9;
        }
        button{
            appearance:none;
            border:1px solid var(--glass);
            background: linear-gradient(180deg, #162036, #0f1525);
            color:var(--ink);
            padding:8px 12px;
            border-radius:10px;
            font-weight:600;
            letter-spacing:.2px;
            cursor:pointer;
            box-shadow:
                    inset 0 0 0 1px rgba(255,255,255,.04),
                    0 4px 14px rgba(0,0,0,.35);
            transition: transform .06s ease, background .2s ease, border-color .2s ease;
        }
        button:hover{
            transform: translateY(-1px);
            border-color: #2c385a;
        }
        button.active{
            background: linear-gradient(180deg, #213056, #0f1525);
            border-color:#36508f;
            box-shadow:
                    inset 0 0 0 1px rgba(122,162,255,.2),
                    0 6px 18px rgba(0,0,0,.45);
        }

        .grid{
            display:grid;
            grid-template-columns: repeat(4, minmax(240px, 1fr));
            gap:18px;
        }
        @media (max-width:1200px){
            .grid{grid-template-columns: repeat(2, minmax(240px, 1fr));}
        }
        @media (max-width:620px){
            .grid{grid-template-columns: 1fr;}
        }

        .weather-card{
            --r:16px;
            position:relative;
            isolation:isolate;
            overflow:hidden;
            aspect-ratio:1/1;
            border-radius:var(--r);
            background:
                    radial-gradient(100% 120% at 50% 0%, #1b243a 0%, #101726 65%, #0b0f17 100%);
            border:1px solid var(--glass);
            box-shadow:
                    inset 0 0 0 1px rgba(255,255,255,.03),
                    0 20px 50px rgba(0,0,0,.6);
        }
        .weather-card::before{
            /* faint stars texture */
            content:"";
            position:absolute; inset:-40% -40%;
            background:
                    radial-gradient(2px 2px at 20% 10%, #ffffff12 99%, transparent 100%) repeat,
                    radial-gradient(1.5px 1.5px at 40% 30%, #ffffff10 99%, transparent 100%) repeat,
                    radial-gradient(1.2px 1.2px at 70% 60%, #ffffff0f 99%, transparent 100%) repeat;
            background-size: 160px 120px, 200px 160px, 220px 180px;
            filter: saturate(.8);
            z-index:0;
            opacity:.35;
            transform: translateZ(0);
        }

        .title{
            position:absolute;
            left:12px; bottom:10px;
            font-weight:700;
            letter-spacing:.5px;
            font-size:14px;
            color:#e8edff;
            z-index:3;
            text-shadow: 0 1px 0 #0007;
        }

        .layer{ position:absolute; inset:0; display:none; z-index:1;}
        .weather-card.sunny .layer.sunny,
        .weather-card.rainy .layer.rainy,
        .weather-card.windy .layer.windy,
        .weather-card.snowy .layer.snowy{ display:block; }

        /* Shared cloud style */
        .cloud{
            position:absolute;
            width:140px; height:46px;
            background:#e6eeff;
            border-radius:50px;
            box-shadow: 0 6px 20px rgba(180,200,255,.25);
        }
        .cloud::before, .cloud::after{
            content:"";
            position:absolute; border-radius:50%;
            background:#f0f5ff;
        }
        .cloud::before{ width:70px; height:70px; left:8px; top:-30px; }
        .cloud::after{ width:85px; height:85px; left:48px; top:-40px; }

        /* SUNNY */
        .sunny{
            background:
                    radial-gradient(140% 120% at 85% 15%, #2a385a 0%, #162139 40%, transparent 41%) no-repeat,
                    radial-gradient(140% 120% at 82% 12%, #1c2946 0%, transparent 56%) no-repeat;
        }
        .sunny .sun{
            position:absolute;
            right:38px; top:44px;
            width:94px; height:94px;
            border-radius:50%;
            display:grid; place-items:center;
            filter: drop-shadow(0 0 30px #ffde6a88) drop-shadow(0 0 70px #ffd64a55);
        }
        .sunny .sun .rays{
            position:absolute; inset:-28px;
            border-radius:50%;
            background: repeating-conic-gradient(
                    from 0deg,
                    rgba(255,214,74,.0) 0deg 10deg,
                    rgba(255,214,74,.65) 10deg 20deg
            );
            -webkit-mask: radial-gradient(circle 50px at center, transparent 0 55px, #000 56px 100%);
            mask: radial-gradient(circle 50px at center, transparent 0 55px, #000 56px 100%);
            animation: spin 14s linear infinite;
            opacity:.85;
        }
        .sunny .sun .core{
            width:94px; height:94px; border-radius:50%;
            background: radial-gradient(circle at 35% 35%, #fff7c0 0%, #ffe277 35%, #ffd64a 60%, #ffb84d 100%);
        }
        .sunny .shine{
            position:absolute; inset:0;
            background: radial-gradient(60% 60% at 75% 25%, #fffa9a15 0%, transparent 60%);
            mix-blend-mode: screen; pointer-events:none;
        }

        /* RAINY */
        .rainy{
            background:
                    linear-gradient(180deg, #132039, #0e1628);
        }
        .rainy .cloud.big{ width:200px; height:58px; left:calc(50% - 100px); top:32px; }
        .rainy .cloud.small{ width:130px; height:42px; left:calc(50% + 60px); top:62px; opacity:.85;}
        .rainy .precip{
            position:absolute; left:0; right:0; top:80px; bottom:18%;
            overflow:hidden; filter: url(#) blur(0); /* placeholder to keep GPU happy */
        }
        .drop{
            position:absolute;
            top:-12%;
            width:2px; height:14px;
            background: linear-gradient(to bottom, rgba(139,189,255,0) 0%, var(--rain) 45%, rgba(139,189,255,0) 100%);
            border-radius:1px;
            filter: blur(.2px);
            animation: drop 1.2s linear infinite;
            opacity:.9;
        }
        @keyframes drop{
            0%{ transform: translateY(-20%); opacity:0; }
            10%{ opacity:1; }
            100%{ transform: translateY(120%); opacity:.9; }
        }
        .rainy .puddle{
            position:absolute; left:50%; bottom:12px; transform:translateX(-50%);
            width:62%; height:14px; border-radius:50%/70%;
            background: radial-gradient(60% 100% at 50% 100%, rgba(121,183,255,.4), rgba(121,183,255,.12) 60%, transparent 70%);
            box-shadow: 0 -1px 0 rgba(121,183,255,.25) inset;
            animation: ripple 2.6s ease-in-out infinite;
        }
        @keyframes ripple{
            0%,100%{ transform: translateX(-50%) scaleX(.95); opacity:.9; }
            50%{ transform: translateX(-50%) scaleX(1.05); opacity:1; }
        }

        /* SNOWY */
        .snowy{
            background:
                    linear-gradient(180deg, #101a30, #0c1324);
        }
        .snowy .cloud.big{ width:200px; height:58px; left:calc(50% - 120px); top:28px; }
        .snowy .cloud.small{ width:140px; height:44px; left:calc(50% + 30px); top:60px; opacity:.9; }
        .snowy .flakes{
            position:absolute; inset:0; top:74px; bottom:16%;
            overflow:hidden;
        }
        .flake{
            position:absolute;
            top:-12%;
            width:10px; height:10px;
            border-radius:50%;
            background: radial-gradient(circle at 30% 30%, #ffffff, #f6fbff 60%, #ffffff);
            box-shadow: 0 0 6px #ffffff55;
            opacity:.95;
            animation: snowFall var(--dur,6s) linear var(--delay,0s) infinite;
        }
        @keyframes snowFall{
            0%   { transform: translate(0, -10%); opacity:.95; }
            25%  { transform: translate(calc(var(--drift, 24px) * -0.5), 28%); }
            50%  { transform: translate(0, 58%); }
            75%  { transform: translate(calc(var(--drift, 24px) * 0.5), 88%); }
            100% { transform: translate(0, 118%); opacity:.98; }
        }
        .snowy .snowbank{
            position:absolute; left:-8%; right:-8%; bottom:-2px;
            height:14%;
            background: linear-gradient(#ffffff, #eaf2ff);
            border-top-left-radius: 60% 30%;
            border-top-right-radius: 60% 30%;
            box-shadow: 0 -6px 18px rgba(255,255,255,.25) inset, 0 2px 0 #fff;
            animation: accumulate 8s ease-in-out infinite alternate;
        }
        @keyframes accumulate{
            0%{ height:12%; }
            100%{ height:26%; }
        }

        /* WINDY */
        .windy{
            background:
                    linear-gradient(180deg, #0f1a2e, #0b1222);
        }
        .windy .cloud.mover{
            opacity:.9; top:44px;
            animation: cloudMove 18s linear infinite;
        }
        .windy .cloud.mover.fast{ top:72px; transform: scale(.85); animation-duration: 12s; opacity:.85; }
        @keyframes cloudMove{
            0%{ left:-45%; }
            100%{ left:110%; }
        }
        .tree{
            position:absolute;
            bottom:18%; left:16%;
            width:80px; height:120px;
            transform-origin: 25px 110px;
            animation: sway 3s ease-in-out infinite;
        }
        @keyframes sway{
            0%{ transform: rotate(-3deg); }
            50%{ transform: rotate(3deg); }
            100%{ transform: rotate(-3deg); }
        }
        .trunk{
            position:absolute; left:26px; bottom:0;
            width:12px; height:78px; border-radius:6px;
            background: linear-gradient(180deg, #7a593c, #523d2a);
            box-shadow: inset 0 0 0 2px #00000022;
        }
        .leaf{
            position:absolute; bottom:56px; left:0;
            width:64px; height:64px; border-radius:50%;
            background: radial-gradient(circle at 40% 40%, #8ff0a8, #48c06e 60%, #2ba258 100%);
            filter: drop-shadow(0 4px 8px #1a3c1f66);
        }
        .leaf.leaf2{
            width:54px; height:54px; left:34px; bottom:72px;
            background: radial-gradient(circle at 40% 40%, #aaf7be, #51c777 60%, #2ea15c 100%);
        }
        .wind{
            position:absolute; left:0; right:0; top:46%; bottom:34%;
            overflow:hidden;
        }
        .gust{
            position:absolute; left:-50%; width:45%; height:2px;
            background: linear-gradient(90deg, transparent, rgba(188,214,255,.9) 40%, transparent 80%);
            border-radius: 2px;
            filter: blur(.3px);
            animation: blow 2.6s linear infinite;
        }
        .gust.g1{ top:20%; animation-duration:2.8s; }
        .gust.g2{ top:50%; animation-duration:2.2s; animation-delay:.4s;}
        .gust.g3{ top:78%; animation-duration:3.2s; animation-delay:.8s;}
        @keyframes blow{
            0%{ transform: translateX(-20%); opacity:.9; }
            100%{ transform: translateX(260%); opacity:1; }
        }

        /* Card interaction hint */
        .hint{
            position:absolute;
            right:10px; bottom:10px;
            font-size:11px; opacity:.6;
            z-index:3;
        }

        /* Click highlight */
        .weather-card:active{
            transform: translateY(1px);
        }
    </style>
</head>
<body>
<div class="toolbar">
    <div class="left">
        <h1>Animated Weather Cards</h1>
        <button data-set="sunny" title="Show Sun on all">Sun</button>
        <button data-set="rainy" title="Show Rain on all">Rain</button>
        <button data-set="windy" title="Show Wind on all">Wind</button>
        <button data-set="snowy" title="Show Snow on all">Snow</button>
    </div>
    <div class="right">
        <button id="cycle">Cycle</button>
        <button id="shuffle">Shuffle</button>
        <button id="reset">Reset</button>
    </div>
</div>

<div class="grid">
    <!-- SUNNY CARD -->
    <div class="weather-card sunny" data-index="0" aria-label="Sunny card">
        <div class="layer sunny">
            <div class="sun">
                <div class="rays"></div>
                <div class="core"></div>
            </div>
            <!-- a few decorative distant clouds -->
            <div class="cloud" style="left:18px; top:34px; transform:scale(.7); opacity:.6"></div>
            <div class="cloud" style="left:32px; top:84px; transform:scale(.55); opacity:.45"></div>
        </div>

        <div class="layer rainy">
            <div class="cloud big"></div>
            <div class="cloud small"></div>
            <div class="precip"></div>
            <div class="puddle"></div>
        </div>

        <div class="layer windy">
            <div class="cloud mover"   style="left:-45%"></div>
            <div class="cloud mover fast" style="left:-65%"></div>
            <div class="tree">
                <div class="trunk"></div>
                <div class="leaf leaf1"></div>
                <div class="leaf leaf2"></div>
            </div>
            <div class="wind">
                <span class="gust g1"></span>
                <span class="gust g2"></span>
                <span class="gust g3"></span>
            </div>
        </div>

        <div class="layer snowy">
            <div class="cloud big"></div>
            <div class="cloud small"></div>
            <div class="flakes"></div>
            <div class="snowbank"></div>
        </div>

        <div class="title">Sunny</div>
        <div class="hint">Click card to switch</div>
    </div>

    <!-- RAINY CARD -->
    <div class="weather-card rainy" data-index="1" aria-label="Rainy card">
        <div class="layer sunny">
            <div class="sun">
                <div class="rays"></div>
                <div class="core"></div>
            </div>
            <div class="cloud" style="left:20px; top:36px; transform:scale(.7); opacity:.6"></div>
            <div class="cloud" style="left:40px; top:90px; transform:scale(.6); opacity:.45"></div>
        </div>

        <div class="layer rainy">
            <div class="cloud big"></div>
            <div class="cloud small"></div>
            <div class="precip"></div>
            <div class="puddle"></div>
        </div>

        <div class="layer windy">
            <div class="cloud mover"   style="left:-45%"></div>
            <div class="cloud mover fast" style="left:-65%"></div>
            <div class="tree">
                <div class="trunk"></div>
                <div class="leaf leaf1"></div>
                <div class="leaf leaf2"></div>
            </div>
            <div class="wind">
                <span class="gust g1"></span>
                <span class="gust g2"></span>
                <span class="gust g3"></span>
            </div>
        </div>

        <div class="layer snowy">
            <div class="cloud big"></div>
            <div class="cloud small"></div>
            <div class="flakes"></div>
            <div class="snowbank"></div>
        </div>

        <div class="title">Rainy</div>
        <div class="hint">Click card to switch</div>
    </div>

    <!-- WINDY CARD -->
    <div class="weather-card windy" data-index="2" aria-label="Windy card">
        <div class="layer sunny">
            <div class="sun">
                <div class="rays"></div>
                <div class="core"></div>
            </div>
            <div class="cloud" style="left:18px; top:40px; transform:scale(.72); opacity:.62"></div>
            <div class="cloud" style="left:44px; top:90px; transform:scale(.58); opacity:.48"></div>
        </div>

        <div class="layer rainy">
            <div class="cloud big"></div>
            <div class="cloud small"></div>
            <div class="precip"></div>
            <div class="puddle"></div>
        </div>

        <div class="layer windy">
            <div class="cloud mover"   style="left:-45%"></div>
            <div class="cloud mover fast" style="left:-65%"></div>
            <div class="tree">
                <div class="trunk"></div>
                <div class="leaf leaf1"></div>
                <div class="leaf leaf2"></div>
            </div>
            <div class="wind">
                <span class="gust g1"></span>
                <span class="gust g2"></span>
                <span class="gust g3"></span>
            </div>
        </div>

        <div class="layer snowy">
            <div class="cloud big"></div>
            <div class="cloud small"></div>
            <div class="flakes"></div>
            <div class="snowbank"></div>
        </div>

        <div class="title">Windy</div>
        <div class="hint">Click card to switch</div>
    </div>

    <!-- SNOWY CARD -->
    <div class="weather-card snowy" data-index="3" aria-label="Snowy card">
        <div class="layer sunny">
            <div class="sun">
                <div class="rays"></div>
                <div class="core"></div>
            </div>
            <div class="cloud" style="left:18px; top:36px; transform:scale(.7); opacity:.6"></div>
            <div class="cloud" style="left:48px; top:92px; transform:scale(.58); opacity:.45"></div>
        </div>

        <div class="layer rainy">
            <div class="cloud big"></div>
            <div class="cloud small"></div>
            <div class="precip"></div>
            <div class="puddle"></div>
        </div>

        <div class="layer windy">
            <div class="cloud mover"   style="left:-45%"></div>
            <div class="cloud mover fast" style="left:-65%"></div>
            <div class="tree">
                <div class="trunk"></div>
                <div class="leaf leaf1"></div>
                <div class="leaf leaf2"></div>
            </div>
            <div class="wind">
                <span class="gust g1"></span>
                <span class="gust g2"></span>
                <span class="gust g3"></span>
            </div>
        </div>

        <div class="layer snowy">
            <div class="cloud big"></div>
            <div class="cloud small"></div>
            <div class="flakes"></div>
            <div class="snowbank"></div>
        </div>

        <div class="title">Snowy</div>
        <div class="hint">Click card to switch</div>
    </div>
</div>

<script>
    // Utility to set condition on a card
    const CONDITIONS = ['sunny','rainy','windy','snowy'];
    const LABELS = {sunny: 'Sunny', rainy: 'Rainy', windy:'Windy', snowy:'Snowy'};

    function setCardCondition(card, condition){
        CONDITIONS.forEach(c => card.classList.remove(c));
        card.classList.add(condition);
        const title = card.querySelector('.title');
        if (title) title.textContent = LABELS[condition] || condition;
    }

    function setAll(condition){
        document.querySelectorAll('.weather-card').forEach(card => setCardCondition(card, condition));
        updateToolbarActive(condition);
    }

    function updateToolbarActive(activeKey){
        document.querySelectorAll('.toolbar [data-set]').forEach(btn=>{
            btn.classList.toggle('active', btn.dataset.set === activeKey);
        });
    }

    // Generate rain drops and snowflakes for every relevant layer
    function seedPrecipitation(){
        // Rain
        document.querySelectorAll('.layer.rainy .precip').forEach(container=>{
            const already = container.querySelector('.drop');
            if (already) return;
            const drops = 48;
            const W = container.clientWidth || 260;
            for (let i=0;i<drops;i++){
                const d = document.createElement('span');
                d.className = 'drop';
                const left = Math.random()*100;            // %
                const delay = (Math.random()*1.2).toFixed(2)+'s';
                const dur = (0.9 + Math.random()*0.9).toFixed(2)+'s';
                const scale = 0.7 + Math.random()*0.8;
                d.style.left = left+'%';
                d.style.animationDelay = delay;
                d.style.animationDuration = dur;
                d.style.transform = `translateY(-20%) scaleY(${scale.toFixed(2)})`;
                container.appendChild(d);
            }
        });

        // Snow
        document.querySelectorAll('.layer.snowy .flakes').forEach(container=>{
            const exists = container.querySelector('.flake');
            if (exists) return;
            const flakes = 42;
            for (let i=0;i<flakes;i++){
                const f = document.createElement('span');
                f.className = 'flake';
                const size = 3 + Math.random()*5; // px
                const x = Math.random()*100; // %
                const delay = (Math.random()*5).toFixed(2)+'s';
                const dur = (6 + Math.random()*6).toFixed(2)+'s';
                const drift = (16 + Math.random()*28).toFixed(1)+'px';
                f.style.left = x+'%';
                f.style.width = size+'px';
                f.style.height = size+'px';
                f.style.setProperty('--dur', dur);
                f.style.setProperty('--delay', delay);
                f.style.setProperty('--drift', drift);
                container.appendChild(f);
            }
        });
    }

    // Allow clicking a card to cycle its condition
    function attachCardCycling(){
        document.querySelectorAll('.weather-card').forEach(card=>{
            card.addEventListener('click', (e)=>{
                // Ignore toolbar button clicks bubbling
                if (e.target.closest('.toolbar')) return;
                const current = CONDITIONS.find(c => card.classList.contains(c)) || CONDITIONS[0];
                const next = CONDITIONS[(CONDITIONS.indexOf(current)+1) % CONDITIONS.length];
                setCardCondition(card, next);
            });
        });
    }

    // Toolbar buttons
    function attachToolbar(){
        document.querySelectorAll('.toolbar [data-set]').forEach(btn=>{
            btn.addEventListener('click', ()=>{
                setAll(btn.dataset.set);
            });
        });
        document.getElementById('reset').addEventListener('click', ()=>{
            const preset = ['sunny','rainy','windy','snowy'];
            document.querySelectorAll('.weather-card').forEach((card,i)=>{
                setCardCondition(card, preset[i % preset.length]);
            });
            updateToolbarActive('');
        });
        document.getElementById('shuffle').addEventListener('click', ()=>{
            document.querySelectorAll('.weather-card').forEach(card=>{
                const rand = CONDITIONS[Math.floor(Math.random()*CONDITIONS.length)];
                setCardCondition(card, rand);
            });
            updateToolbarActive('');
        });

        // Cycle all cards automatically
        const cycleBtn = document.getElementById('cycle');
        let cycling = false;
        let cycleTimer = null;
        let idx = 0;
        cycleBtn.addEventListener('click', ()=>{
            cycling = !cycling;
            cycleBtn.classList.toggle('active', cycling);
            if (cycling){
                cycleBtn.textContent = 'Stop';
                cycleTimer = setInterval(()=>{
                    setAll(CONDITIONS[idx % CONDITIONS.length]);
                    idx++;
                }, 2000);
            }else{
                cycleBtn.textContent = 'Cycle';
                clearInterval(cycleTimer);
            }
        });
    }

    // Initial seeds
    window.addEventListener('DOMContentLoaded', ()=>{
        seedPrecipitation();
        attachCardCycling();
        attachToolbar();
    });

    // Spin for the sun rays
    function noop(){}
    // Pure CSS keyframes referenced in styles
    // @keyframes spin defined implicitly in CSS block (add here for completeness)
</script>
<style>
    @keyframes spin{ to{ transform: rotate(360deg); } }
</style>
</body>
</html>